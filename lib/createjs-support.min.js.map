{"version":3,"sources":["../src/util/Logger.ts","../src/util/Num.ts","../src/util/Arr.ts","../src/util/CommandUtil.ts","../src/util/AnimateUtil.ts","../src/util/Boxer.ts","../src/util/DeviceInfo.ts","../src/util/Rotator.ts","../src/job/Timer.ts","../src/event/TimerEvent.ts","../src/job/KeyWatcher.ts","../src/event/KeyWatcherEvent.ts","../src/var/KeyCode.ts","../src/job/ResizeWatcher.ts","../src/event/ResizeWatcherEvent.ts","../src/job/ScrollWatcher.ts","../src/event/ScrollWatcherEvent.ts","../src/job/AssetLoader.ts","../src/event/AssetLoaderEvent.ts","../src/view/View.ts"],"names":["trace","messages","_i","arguments","length","alm","Logger","info","apply","caller","throwWarn","target","message","condition","warnIf","throwError","errorIf","Num","map","value","srcMin","srcMax","dstMin","dstMax","clamp","random","min","max","Math","dist","x1","y1","x2","y2","squared","dx","dy","sqrt","radToDeg","radian","RAD2DEG","degToRad","degree","DEG2RAD","turn","from","to","PI3","PI2","PI","PI4","PI5","PI6","PI_2","PI_3","PI_4","PI_6","Arr","unique","list","filter","x","i","self","indexOf","duplicated","lastIndexOf","CommandUtil","stop","command","interrupt","sequence","execute","commands","c","cmd","Serial","addCommand","fadeToCreatejs","opacity","duration","easing","tween","Tween","alpha","visible","fadeInCreatejs","fadeOutCreatejs","fadeToJquery","switchDisplayTo","switchVisibility","o","parseInt","css","fadeInJquery","fadeOutJquery","AnimateUtil","getChildren","parent","tweenChildren","children","tweens","numTweens","getMovieClipsFromStateList","concat","stateList","clips","numClips","push","getChildByName","childName","getNominalBounds","getLinkageMovieClip","linkageId","this","getLib","getManifest","lib","getComposition","getLibrary","getImages","images","composition","compositions","window","key","Align","ScaleMode","Boxer","resize","bounds","scaleMode","align","ShowAll","Middle_Center","tx","ty","y","tw","width","th","height","bx","by","bw","bh","NoBorder","ratioW","ratioH","ratio","ExactFit","createjs","Rectangle","Top_Left","Middle_Left","Bottom_Left","Top_Right","Middle_Right","Bottom_Right","Top_Center","Bottom_Center","LoggerLevel","verbose","level","Verbose","console","debug","Array","prototype","slice","call","Info","log","warn","Warn","error","Error","DeviceInfo","initialize","isInitialized","u","navigator","userAgent","toLowerCase","isTablet","isMobile","isDesktop","isIOS","isAndroid","isRetina","round","devicePixelRatio","getIsDesktop","getIsTablet","getIsMobile","getIsIOS","getIsAndroid","getIsRetina","Rotator","angle","velocity","setAngle","setVelocity","getAngle","getVelocity","update","getSin","sin","getCos","cos","getTan","tan","getMagnitude","getVector","xy","Timer","_super","interval","repeatCount","_this","timerHandler","tStartTime","getCurrentTime","elapsedCount","isCompleted","tInterval","startInterval","dispatch","TimerEvent","TICK","COMPLETE","isRunning","tId","reset","__extends","start","tRestTime","stopInterval","restart","Date","valueOf","setInterval","clearInterval","eventType","dispatchEvent","getRestCount","getIsRunning","getInterval","getElapsedTime","getRestTime","getElapsedCount","getRepeatCount","setRepeatCount","count","EventDispatcher","bubbles","cancelable","restCount","clone","type","toString","Event","KeyWatcher","eventDispatcher","$window","jQuery","on","windowKeyDownHandler","windowKeyUpHandler","off","addEventListener","listener","useCapture","removeEventListener","getIsAnyKeyPressed","pressedKeyCount","getIsKeyPressed","keyCode","isKeyPressedByKeyCode","getIsContinuousPressEnabled","isContinuousPressEnabled","setIsContinuousPressEnabled","enabled","event","KeyWatcherEvent","KEY_DOWN","KEY_UP","pressTimer","isLongPressed","jqueryEvent","altKey","ctrlKey","shiftKey","KEY_LONG_PRESS","KeyCode","ResizeWatcher","windowResizeHandler","stageWidth","stageHeight","$body","contentWidth","contentHeight","getStageWidth","getStageHeight","getContentWidth","getContentHeight","ResizeWatcherEvent","RESIZE","ScrollWatcher","windowScrollHandler","windowHeight","scrollTop","scrollBottom","calcScrolledPosition","calcScrolledPositionRatio","getScrollTop","getScrollBottom","getWindowHeight","ScrollWatcherEvent","SCROLL","AssetLoader","isLoading","isLoaded","isCanceled","loader","LoadQueue","animateImages","load","getItems","setListener","addFile","filePath","id","loadFile","src","addFiles","files","loadManifest","addManifest","jsonPath","addAnimateAsset","basePath","manifest","getAnimateManifest","cancel","close","clear","clearListener","destroy","getResult","idOrPath","loaderFileLoadHandler","loaderFileErrorHandler","loaderProgressHandler","loaderErrorHandler","loaderCompleteHandler","substr","updated","numFiles","file","getIsLoading","getIsLoaded","getIsCanceled","itemId","item","result","AssetLoaderEvent","FILE_LOAD","progress","loaded","total","ERROR","PROGRESS","FILE_ERROR","loadedCount","totalCount","content","View","view","isInitializing","isReady","isShowing","isShown","isHiding","autoHideWithInit","name","implInitialize","hide","ready","implReady","finalize","implFinalize","show","useTransition","getShowCommand","getHideCommand","Func","showCommand","hideCommand","insertCommand","implShow","implHide","getIsInitializing","getIsInitialized","getIsReady","getIsShowing","getIsShown","getIsHiding","getIsHidden","getView","getAutoHideWithInit","setAutoHideWithInit","getName","setName"],"mappings":"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","file":"createjs-support.min.js","sourcesContent":["/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport enum LoggerLevel {\n\t\tVerbose = 0,\n\t\tInfo = 1,\n\t\tWarn = 2,\n\t\tError = 3,\n\t\tSilent = 4,\n\t}\n\n\texport class Logger {\n\n\t\tpublic static level: number = LoggerLevel.Verbose;\n\n\t\tpublic static verbose(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Verbose) console.debug.apply(console, Array.prototype.slice.call([\"Verbose: \"].concat(messages)));\n\t\t}\n\n\t\tpublic static info(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Info) console.log.apply(console, Array.prototype.slice.call([\"Info   : \"].concat(messages)));\n\t\t}\n\n\t\tpublic static warn(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Warn) console.warn.apply(console, Array.prototype.slice.call([\"Warn   : \"].concat(messages)));\n\t\t}\n\n\t\tpublic static error(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Error) console.error.apply(console, Array.prototype.slice.call([\"Error  : \"].concat(messages)));\n\t\t}\n\n\t\tpublic static warnIf(target:any, message:string, condition:boolean = true): void {\n\t\t\tif (Logger.level <= LoggerLevel.Warn && condition) Logger.warn(message + \" : \", target);\n\t\t}\n\n\t\tpublic static errorIf(target:any, message: string, condition:boolean = true): void {\n\t\t\tif (Logger.level <= LoggerLevel.Error && condition) Logger.error(message + \" : \", target);\n\t\t}\n\t}\n}\n\nfunction trace(...messages:any[]):void {\n\talm.Logger.info.apply(trace.caller, arguments);\n}\n\nfunction throwWarn(target:any, message:string, condition:boolean = true):void {\n\talm.Logger.warnIf.apply(null, arguments);\n}\n\nfunction throwError(target:any, message:string, condition:boolean = true):void {\n\talm.Logger.errorIf.apply(null, arguments);\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Num {\n\n\t\t/**\n\t\t * valueを、範囲[srcMin, srcMax]から範囲[dstMin, dstMax]にマッピングする\n\t\t */\n\t\tpublic static map(value:number, srcMin:number, srcMax:number, dstMin:number, dstMax:number, clamp:boolean = true):number {\n\t\t\tif (srcMin == srcMax) return dstMin;\n\t\t\tif (clamp) {\n\t\t\t\tif (srcMin < srcMax) {\n\t\t\t\t\tif (value < srcMin) value = srcMin;\n\t\t\t\t\telse if (value > srcMax) value = srcMax;\n\t\t\t\t} else {\n\t\t\t\t\tif (value < srcMax) value = srcMax;\n\t\t\t\t\telse if (value > srcMin) value = srcMin;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (value - srcMin) * (dstMax - dstMin) / (srcMax - srcMin) + dstMin;\n\t\t}\n\n\t\tpublic static random(min:number = 0, max:number = 1):number {\n\t\t\treturn min + (max - min) * Math.random();\n\t\t}\n\n\t\tpublic static clamp(value:number, min:number, max:number):number {\n\t\t\treturn value < min ? min : (value > max ? max : value);\n\t\t}\n\n\t\tpublic static dist(x1:number, y1:number, x2:number, y2:number, squared:boolean = false):number {\n\t\t\tconst dx:number = x2 - x1;\n\t\t\tconst dy:number = y2 - y1;\n\t\t\treturn squared ? (dx * dx + dy * dy) : Math.sqrt(dx * dx + dy * dy);\n\t\t}\n\n\t\tpublic static radToDeg(radian:number):number {\n\t\t\treturn radian * Num.RAD2DEG;\n\t\t}\n\n\t\tpublic static degToRad(degree:number):number {\n\t\t\treturn degree * Num.DEG2RAD;\n\t\t}\n\n\t\tpublic static turn(from:number, to:number, radian:boolean = true):number {\n\t\t\treturn radian ? ((to - from + Num.PI3) % Num.PI2 - Math.PI) : ((to - from + 540) % 360 - 180);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONST\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static PI2:number = Math.PI * 2;\n\t\tpublic static PI3:number = Math.PI * 3;\n\t\tpublic static PI4:number = Math.PI * 4;\n\t\tpublic static PI5:number = Math.PI * 5;\n\t\tpublic static PI6:number = Math.PI * 6;\n\t\tpublic static PI_2:number = Math.PI / 2;\n\t\tpublic static PI_3:number = Math.PI / 3;\n\t\tpublic static PI_4:number = Math.PI / 4;\n\t\tpublic static PI_6:number = Math.PI / 6;\n\n\t\tprivate static RAD2DEG:number = 180 / Math.PI;\n\t\tprivate static DEG2RAD:number = Math.PI / 180;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Arr {\n\n\t\t/**\n\t\t * 重複を削除したリストを生成する\n\t\t * @param list 入力配列\n\t\t * @returns {any[]} 出力配列\n\t\t */\n\t\tpublic static unique(list:any[]):any[] {\n\t\t\treturn list.filter(function (x:any, i:number, self:any[]) {\n\t\t\t\treturn self.indexOf(x) === i;\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * 重複のみを抽出したリストを生成する\n\t\t * @param list 入力配列\n\t\t * @param unique trueの場合は、重複したものの中を重複しないようにする\n\t\t * @returns {any[]} 出力配列\n\t\t */\n\t\tpublic static duplicated(list:any[], unique:boolean = false):any[] {\n\t\t\tif (unique) {\n\t\t\t\treturn list.filter(function (x:any, i:number, self:any[]) {\n\t\t\t\t\treturn self.indexOf(x) !== self.lastIndexOf(x);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn list.filter(function (x:any, i:number, self:any[]) {\n\t\t\t\t\treturn (self.indexOf(x) === i) && (self.lastIndexOf(x) !== i);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class CommandUtil {\n\n\t\tpublic static stop(command:cmd.Command):any {\n\t\t\tif (command) command.interrupt();\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic static sequence(execute:boolean, ...commands:(cmd.Command|Function)[]):cmd.Serial {\n\t\t\tconst c:cmd.Serial = new cmd.Serial();\n\t\t\tc.addCommand(...commands);\n\t\t\tif (execute) c.execute();\n\t\t\treturn c;\n\t\t}\n\n\t\tpublic static fadeToCreatejs(target:createjs.DisplayObject, opacity:number, duration:number, easing:cmd.EasingFunction, execute:boolean = true):cmd.Tween {\n\t\t\tconst tween:cmd.Tween = new cmd.Tween(target, { alpha: opacity }, null, duration, easing, ():void => {\n\t\t\t\tif (opacity > 0) target.visible = true;\n\t\t\t}, null, ():void => {\n\t\t\t\tif (opacity <= 0) target.visible = false;\n\t\t\t});\n\t\t\tif (execute) tween.execute();\n\t\t\treturn tween;\n\t\t}\n\n\t\tpublic static fadeInCreatejs(target:createjs.DisplayObject, duration:number, easing:cmd.EasingFunction, execute:boolean = true):cmd.Tween {\n\t\t\treturn CommandUtil.fadeToCreatejs(target, 1, duration, easing, execute);\n\t\t}\n\n\t\tpublic static fadeOutCreatejs(target:createjs.DisplayObject, duration:number, easing:cmd.EasingFunction, execute:boolean = true):cmd.Tween {\n\t\t\treturn CommandUtil.fadeToCreatejs(target, 0, duration, easing, execute);\n\t\t}\n\n\t\tpublic static fadeToJquery(target:JQuery, opacity:number, duration:number, easing:cmd.EasingFunction, switchDisplayTo:string = \"\", switchVisibility:boolean = false, execute:boolean = true):cmd.Tween {\n\t\t\tlet o:Object = { value: parseInt(target.css(\"opacity\")) };\n\t\t\tconst tween:cmd.Tween = new cmd.Tween(o, { value: opacity }, null, duration, easing, ():void => {\n\t\t\t\tif (opacity > 0) {\n\t\t\t\t\tif (switchDisplayTo != \"\") target.css(\"display\", switchDisplayTo);\n\t\t\t\t\tif (switchVisibility) target.css(\"visibility\", \"visible\");\n\t\t\t\t}\n\t\t\t}, ():void => {\n\t\t\t\ttarget.css(\"opacity\", o[\"value\"]);\n\t\t\t}, ():void => {\n\t\t\t\tif (opacity <= 0) {\n\t\t\t\t\tif (switchDisplayTo != \"\") target.css(\"display\", \"none\");\n\t\t\t\t\tif (switchVisibility) target.css(\"visibility\", \"hidden\");\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (execute) tween.execute();\n\t\t\treturn tween;\n\t\t}\n\n\t\tpublic static fadeInJquery(target:JQuery, duration:number, easing:cmd.EasingFunction, switchDisplayTo:string = \"\", switchVisibility:boolean = false, execute:boolean = true):cmd.Tween {\n\t\t\treturn CommandUtil.fadeToJquery(target, 1, duration, easing, switchDisplayTo, switchVisibility, execute);\n\t\t}\n\n\t\tpublic static fadeOutJquery(target:JQuery, duration:number, easing:cmd.EasingFunction, switchDisplayTo:string = \"\", switchVisibility:boolean = false, execute:boolean = true):cmd.Tween {\n\t\t\treturn CommandUtil.fadeToJquery(target, 0, duration, easing, switchDisplayTo, switchVisibility, execute);\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class AnimateUtil {\n\n\t\t/**\n\t\t * MovieClipの子要素を取得する\n\t\t * 配列のインデックスが大きいほど手前にある\n\t\t * @param parent 親要素\n\t\t * @returns {createjs.MovieClip[]} 子要素の配列\n\t\t */\n\t\tpublic static getChildren(parent:createjs.MovieClip):createjs.MovieClip[] {\n\t\t\tlet children:createjs.MovieClip[] = [];\n\t\t\tconst tweens:any[] = parent[\"timeline\"][\"_tweens\"];\n\t\t\tconst numTweens:number = tweens.length;\n\t\t\tlet tween:any;\n\t\t\tlet tweenChildren:createjs.MovieClip[];\n\t\t\tlet target:any;\n\t\t\tfor (let i:number = 0; i < numTweens; ++i) {\n\t\t\t\ttween = tweens[i];\n\t\t\t\ttweenChildren = AnimateUtil.getMovieClipsFromStateList(tween[\"_curQueueProps\"][\"state\"]);\n\t\t\t\tif (tweenChildren.length == 0) {\n\t\t\t\t\ttarget = tween[\"_target\"];\n\t\t\t\t\tif (target[\"timeline\"]) {\n\t\t\t\t\t\ttweenChildren = [target];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchildren = children.concat(tweenChildren);\n\t\t\t}\n\t\t\treturn children;\n\t\t}\n\n\t\t/**\n\t\t * getChildrenの内部関数\n\t\t */\n\t\tprivate static getMovieClipsFromStateList(stateList:any[]):createjs.MovieClip[] {\n\t\t\tif (stateList) {\n\t\t\t\tconst clips:createjs.MovieClip[] = [];\n\t\t\t\tconst numClips:number = stateList.length;\n\t\t\t\tfor (let i:number = 0; i < numClips; ++i) {\n\t\t\t\t\tclips.push(stateList[i][\"t\"]);\n\t\t\t\t}\n\t\t\t\treturn clips;\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * MovieClipの子要素を名前で取得する\n\t\t * @param parent 親要素\n\t\t * @param childName 子要素の名前\n\t\t * @returns {createjs.DisplayObject} 子要素\n\t\t */\n\t\tpublic static getChildByName(parent:createjs.Container, childName:string):createjs.DisplayObject {\n\t\t\treturn <createjs.DisplayObject>parent[childName];\n\t\t}\n\n\t\t/**\n\t\t * MovieClipの変形前領域を取得する\n\t\t * @param target 領域を取得したいMovieClip\n\t\t * @returns {createjs.Rectangle} 領域\n\t\t */\n\t\tpublic static getNominalBounds(target:createjs.DisplayObject):createjs.Rectangle {\n\t\t\treturn target[\"nominalBounds\"];\n\t\t}\n\n\t\t/**\n\t\t * ライブラリ内のシンボルをインスタンス化する\n\t\t * @param linkageId リンケージID\n\t\t * @returns {createjs.MovieClip} インスタンス化したMovieClip\n\t\t */\n\t\tpublic static getLinkageMovieClip(linkageId:string):createjs.MovieClip {\n\t\t\treturn new (this.getLib()[linkageId])();\n\t\t}\n\n\t\t/**\n\t\t * Preload.jsのためのマニフェストを取得する\n\t\t * @returns {src:string,id:string}[] マニフェストオブジェクト\n\t\t */\n\t\tpublic static getManifest():{src:string,id:string}[] {\n\t\t\treturn this.getLib()[\"properties\"][\"manifest\"];\n\t\t}\n\n\t\t/**\n\t\t * libオブジェクトを取得する\n\t\t * @returns {any} libオブジェクト\n\t\t */\n\t\tpublic static getLib():any {\n\t\t\tif (this.lib) return this.lib;\n\t\t\treturn this.lib = AnimateUtil.getComposition().getLibrary();\n\t\t}\n\n\t\t/**\n\t\t * 画像を格納するハッシュを取得する\n\t\t * @returns {Hash<HTMLImageElement>} 画像格納ハッシュ\n\t\t */\n\t\tpublic static getImages():Hash<HTMLImageElement> {\n\t\t\tif (this.images) return this.images;\n\t\t\treturn this.images = AnimateUtil.getComposition().getImages();\n\t\t}\n\n\t\t/**\n\t\t * compositionオブジェクトを取得する\n\t\t * @returns {any} compositionオブジェクト\n\t\t */\n\t\tpublic static getComposition():any {\n\t\t\tif (this.composition) return this.composition;\n\t\t\tconst compositions:any = window[\"AdobeAn\"][\"compositions\"];\n\t\t\tfor (let key in compositions) {\n\t\t\t\tthis.composition = compositions[key];\n\t\t\t}\n\t\t\treturn this.composition;\n\t\t}\n\n\t\tprivate static composition:any = null;\n\t\tprivate static lib:any = null;\n\t\tprivate static images:any = null;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport enum Align {\n\t\tTop_Left,\n\t\tTop_Center,\n\t\tTop_Right,\n\t\tMiddle_Left,\n\t\tMiddle_Center,\n\t\tMiddle_Right,\n\t\tBottom_Left,\n\t\tBottom_Center,\n\t\tBottom_Right\n\t}\n\n\texport enum ScaleMode {\n\t\tExactFit,\n\t\tShowAll,\n\t\tNoBorder,\n\t\tNoScale,\n\t}\n\n\texport class Boxer {\n\n\t\tpublic static resize(target:createjs.Rectangle, bounds:createjs.Rectangle, scaleMode:ScaleMode = ScaleMode.ShowAll, align:Align = Align.Middle_Center):createjs.Rectangle {\n\t\t\tlet tx:number = target.x;\n\t\t\tlet ty:number = target.y;\n\t\t\tlet tw:number = target.width;\n\t\t\tlet th:number = target.height;\n\n\t\t\tconst bx:number = bounds.x;\n\t\t\tconst by:number = bounds.y;\n\t\t\tconst bw:number = bounds.width;\n\t\t\tconst bh:number = bounds.height;\n\n\t\t\tswitch (scaleMode) {\n\t\t\t\tcase ScaleMode.ShowAll:\n\t\t\t\tcase ScaleMode.NoBorder:\n\t\t\t\t\tconst ratioW:number = bw / tw;\n\t\t\t\t\tconst ratioH:number = bh / th;\n\t\t\t\t\tconst ratio:number = scaleMode == ScaleMode.ShowAll ? (ratioW < ratioH ? ratioW : ratioH) : (ratioW > ratioH ? ratioW : ratioH);\n\t\t\t\t\ttw *= ratio;\n\t\t\t\t\tth *= ratio;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ScaleMode.ExactFit:\n\t\t\t\t\treturn new createjs.Rectangle(bx, by, bw, bh);\n\t\t\t}\n\n\t\t\ttx = bx + ((align == Align.Top_Left    || align == Align.Middle_Left    || align == Align.Bottom_Left  ) ? 0 :\n\t\t\t           (align == Align.Top_Right   || align == Align.Middle_Right   || align == Align.Bottom_Right ) ? (bw - tw) : (bw - tw) / 2);\n\t\t\tty = by + ((align == Align.Top_Left    || align == Align.Top_Center     || align == Align.Top_Right    ) ? 0 :\n\t\t\t           (align == Align.Bottom_Left || align == Align.Bottom_Center  || align == Align.Bottom_Right ) ? (bh - th) : (bh - th) / 2);\n\n\t\t\treturn new createjs.Rectangle(tx, ty, tw, th);\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class DeviceInfo {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tconst u:string = window.navigator.userAgent.toLowerCase();\n\n\t\t\tthis.isTablet = (u.indexOf(\"windows\") != -1 && u.indexOf(\"touch\") != -1)\n\t\t\t\t|| u.indexOf(\"ipad\") != -1\n\t\t\t\t|| (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") == -1)\n\t\t\t\t|| (u.indexOf(\"firefox\") != -1 && u.indexOf(\"tablet\") != -1)\n\t\t\t\t|| u.indexOf(\"kindle\") != -1\n\t\t\t\t|| u.indexOf(\"silk\") != -1\n\t\t\t\t|| u.indexOf(\"playbook\") != -1;\n\n\t\t\tthis.isMobile = (u.indexOf(\"windows\") != -1 && u.indexOf(\"phone\") != -1)\n\t\t\t\t|| u.indexOf(\"iphone\") != -1\n\t\t\t\t|| u.indexOf(\"ipod\") != -1\n\t\t\t\t|| (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") != -1)\n\t\t\t\t|| (u.indexOf(\"firefox\") != -1 && u.indexOf(\"mobile\") != -1)\n\t\t\t\t|| u.indexOf(\"blackberry\") != -1;\n\n\t\t\tthis.isDesktop = !this.isTablet && !this.isMobile;\n\n\t\t\tthis.isIOS = u.indexOf(\"ipad\") != -1 || u.indexOf(\"iphone\") != -1 || u.indexOf(\"ipod\") != -1;\n\t\t\tthis.isAndroid = u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") != -1;\n\n\t\t\tthis.isRetina = Math.round(window.devicePixelRatio) == 2;\n\t\t}\n\n\t\tpublic static getIsDesktop():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isDesktop;\n\t\t}\n\n\t\tpublic static getIsTablet():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isTablet;\n\t\t}\n\n\t\tpublic static getIsMobile():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isMobile;\n\t\t}\n\n\t\tpublic static getIsIOS():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isIOS;\n\t\t}\n\n\t\tpublic static getIsAndroid():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isAndroid;\n\t\t}\n\n\t\tpublic static getIsRetina():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isRetina;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static isDesktop:boolean;\n\t\tprivate static isTablet:boolean;\n\t\tprivate static isMobile:boolean;\n\n\t\tprivate static isRetina:boolean;\n\n\t\tprivate static isIOS:boolean;\n\t\tprivate static isAndroid:boolean;\n\n\t\tprivate static isInitialized:boolean = false;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Rotator {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(angle:number = 0, velocity:number = 0, radian:boolean = true) {\n\t\t\tthis.setAngle(angle, radian);\n\t\t\tthis.setVelocity(velocity, radian);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getAngle(radian:boolean = true):number {\n\t\t\treturn radian ? this.angle : (this.angle * 180 / Math.PI);\n\t\t}\n\n\t\tpublic setAngle(angle:number, radian:boolean = true):void {\n\t\t\tthis.angle = radian ? angle : (angle * Math.PI / 180);\n\t\t}\n\n\t\tpublic getVelocity(radian:boolean = true):number {\n\t\t\treturn radian ? this.velocity : (this.velocity * 180 / Math.PI);\n\t\t}\n\n\t\tpublic setVelocity(velocity:number, radian:boolean = true):void {\n\t\t\tthis.velocity = radian ? velocity : (velocity * Math.PI / 180);\n\t\t}\n\n\t\tpublic update():void {\n\t\t\tthis.angle += this.velocity;\n\t\t}\n\n\t\tpublic getSin(length:number = 1):number {\n\t\t\treturn length * Math.sin(this.angle);\n\t\t}\n\n\t\tpublic getCos(length:number = 1):number {\n\t\t\treturn length * Math.cos(this.angle);\n\t\t}\n\n\t\tpublic getTan(length:number = 1):number {\n\t\t\treturn length * Math.tan(this.angle);\n\t\t}\n\n\t\tpublic getMagnitude(length:number = 1):number {\n\t\t\treturn length * (1 + Math.sin(this.angle)) / 2;\n\t\t}\n\n\t\tpublic getVector(length:number = 1, xy:{ x:number, y:number } = null):{ x:number, y:number } {\n\t\t\tif (xy != null) {\n\t\t\t\txy.x = this.getCos(length);\n\t\t\t\txy.y = this.getSin(length);\n\t\t\t} else {\n\t\t\t\treturn { x: this.getCos(length), y: this.getSin(length) };\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate angle:number;\n\t\tprivate velocity:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Timer extends createjs.EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(interval:number = 1000, repeatCount:number = 0) {\n\t\t\tsuper();\n\t\t\tthis.interval = interval;\n\t\t\tthis.repeatCount = repeatCount;\n\t\t\tthis.isRunning = false;\n\t\t\tthis.tId = -1;\n\t\t\tthis.reset();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\t\t\tthis.tStartTime = this.getCurrentTime();\n\t\t\tthis.startInterval(this.tRestTime != -1 ? this.tRestTime : this.interval);\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\t\t\tthis.tRestTime = this.getCurrentTime() - this.tStartTime;\n\t\t\tthis.stopInterval();\n\t\t}\n\n\t\tpublic reset():void {\n\t\t\tthis.stop();\n\t\t\tthis.elapsedCount = 0;\n\t\t\tthis.tRestTime = -1;\n\t\t}\n\n\t\tpublic restart():void {\n\t\t\tthis.reset();\n\t\t\tthis.start();\n\t\t}\n\n\n\n\n\n\t\tprivate getCurrentTime():number {\n\t\t\treturn new Date().valueOf();\n\t\t}\n\n\t\tprivate startInterval(interval:number):void {\n\t\t\tthis.stopInterval();\n\t\t\tthis.tInterval = interval;\n\t\t\tthis.tId = window.setInterval(this.timerHandler, this.tInterval);\n\t\t}\n\n\t\tprivate stopInterval():void {\n\t\t\tif (this.tId != -1) {\n\t\t\t\tclearInterval(this.tId);\n\t\t\t\tthis.tId = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate dispatch(eventType:string):void {\n\t\t\tthis.dispatchEvent(new TimerEvent(eventType, false, false, this.elapsedCount, this.repeatCount, this.getRestCount()));\n\t\t}\n\n\t\tprivate timerHandler = ():void => {\n\t\t\tthis.tStartTime = this.getCurrentTime();\n\t\t\t++this.elapsedCount;\n\t\t\tlet isCompleted:boolean = false;\n\t\t\tif (this.repeatCount > 0 && this.elapsedCount >= this.repeatCount) {\n\t\t\t\tisCompleted = true;\n\t\t\t\tthis.stop();\n\t\t\t} else if (this.tInterval != this.interval) {\n\t\t\t\tthis.startInterval(this.interval);\n\t\t\t}\n\t\t\tthis.dispatch(TimerEvent.TICK);\n\t\t\tif (isCompleted) {\n\t\t\t\tthis.dispatch(TimerEvent.COMPLETE);\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getIsRunning():boolean { return this.isRunning; }\n\t\tprivate isRunning:boolean;\n\n\t\tpublic getInterval():number { return this.interval; }\n\t\tpublic setInterval(interval:number):void { this.interval = interval; }\n\t\tprivate interval:number;\n\n\t\tpublic getElapsedTime():number { return this.getCurrentTime() - this.tStartTime; }\n\n\t\tpublic getRestTime():number { return this.interval - this.getElapsedTime(); }\n\n\t\tpublic getElapsedCount():number { return this.elapsedCount; }\n\t\tprivate elapsedCount:number;\n\n\t\tpublic getRepeatCount():number { return this.repeatCount; }\n\t\tpublic setRepeatCount(count:number):void { this.repeatCount = count; }\n\t\tprivate repeatCount:number;\n\n\t\tpublic getRestCount():number { return this.repeatCount - this.elapsedCount; }\n\n\t\tprivate tStartTime:number;\n\t\tprivate tRestTime:number;\n\t\tprivate tInterval:number;\n\t\tprivate tId:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class TimerEvent extends createjs.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static TICK:string = \"tick\";\n\t\tpublic static COMPLETE:string = \"complete\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, bubbles:boolean = false, cancelable:boolean = false, elapsedCount:number = 0, repeatCount:number = 0, restCount:number = 0) {\n\t\t\tsuper(eventType, bubbles, cancelable);\n\t\t\tthis.elapsedCount = elapsedCount;\n\t\t\tthis.repeatCount = repeatCount;\n\t\t\tthis.restCount = restCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():TimerEvent {\n\t\t\treturn new TimerEvent(this.type, this.bubbles, this.cancelable, this.elapsedCount, this.repeatCount, this.restCount);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[TimerEvent (type=\" + this.type + \" elapsedCount=\" + this.elapsedCount + \" repeatCount=\" + this.repeatCount + \" restCount=\" + this.restCount + \")]\";\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic elapsedCount:number;\n\t\tpublic repeatCount:number;\n\t\tpublic restCount:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class KeyWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new createjs.EventDispatcher();\n\t\t}\n\n\t\tpublic static start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[KeyWatcher] start\");\n\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\t$window.on(\"keydown\", this.windowKeyDownHandler);\n\t\t\t$window.on(\"keyup\", this.windowKeyUpHandler);\n\t\t}\n\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[KeyWatcher] stop\");\n\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\t$window.off(\"keydown\", this.windowKeyDownHandler);\n\t\t\t$window.off(\"keyup\", this.windowKeyUpHandler);\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:KeyWatcherEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener, useCapture);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:KeyWatcherEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener, useCapture);\n\t\t}\n\n\n\n\n\n\t\tprivate static windowKeyDownHandler = (event:JQuery.Event):void => {\n\t\t\tconst keyCode:number = event.keyCode;\n\t\t\tif (KeyWatcher.isKeyPressedByKeyCode[keyCode] == null) {\n\t\t\t\tKeyWatcher.isKeyPressedByKeyCode[keyCode] = true;\n\t\t\t\t++KeyWatcher.pressedKeyCount;\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_DOWN, false, false, event));\n\t\t\t} else if (KeyWatcher.isContinuousPressEnabled) {\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_DOWN, false, false, event));\n\t\t\t}\n\t\t};\n\n\t\tprivate static windowKeyUpHandler = (event:JQuery.Event):void => {\n\t\t\tconst keyCode:number = event.keyCode;\n\t\t\tif (KeyWatcher.isKeyPressedByKeyCode[keyCode] != null) {\n\t\t\t\tdelete KeyWatcher.isKeyPressedByKeyCode[keyCode];\n\t\t\t\t--KeyWatcher.pressedKeyCount;\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_UP, false, false, event));\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getIsAnyKeyPressed():boolean { return this.pressedKeyCount > 0; }\n\t\tprivate static pressedKeyCount:number = 0;\n\n\t\tpublic static getIsKeyPressed(keyCode:number):boolean { return this.isKeyPressedByKeyCode[keyCode] != null; }\n\t\tprivate static isKeyPressedByKeyCode:Hash<boolean> = {};\n\n\n\t\tpublic static getIsContinuousPressEnabled():boolean { return this.isContinuousPressEnabled; }\n\t\tpublic static setIsContinuousPressEnabled(enabled:boolean):void { this.isContinuousPressEnabled = enabled; }\n\t\tprivate static isContinuousPressEnabled:boolean = false;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static pressTimer:alm.Timer = null;\n\t\tprivate static isLongPressed:boolean = false;\n\t\tprivate static eventDispatcher:createjs.EventDispatcher = null;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class KeyWatcherEvent extends createjs.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic KEY_LONG_PRESS:string = \"keyLongPress\";\n\t\tstatic KEY_UP:string = \"keyUp\";\n\t\tstatic KEY_DOWN:string = \"keyDown\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, bubbles:boolean = false, cancelable:boolean = false, jqueryEvent:JQuery.Event = null) {\n\t\t\tsuper(eventType, bubbles, cancelable);\n\t\t\tthis.jqueryEvent = jqueryEvent;\n\t\t\tthis.key = this.jqueryEvent.key;\n\t\t\tthis.keyCode = this.jqueryEvent.keyCode;\n\t\t\tthis.altKey = this.jqueryEvent.altKey;\n\t\t\tthis.ctrlKey = this.jqueryEvent.ctrlKey;\n\t\t\tthis.shiftKey = this.jqueryEvent.shiftKey;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():KeyWatcherEvent {\n\t\t\treturn new KeyWatcherEvent(this.type, this.bubbles, this.cancelable, this.jqueryEvent);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[KeyWatcherEvent (type=\" + this.type + \" key=\" + this.key + \")]\";\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic jqueryEvent:JQuery.Event;\n\t\tpublic key:string;\n\t\tpublic keyCode:number;\n\t\tpublic altKey:boolean;\n\t\tpublic ctrlKey:boolean;\n\t\tpublic shiftKey:boolean;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\n// Original\n// https://github.com/nfriend/ts-keycode-enum\n// License MIT\n\nnamespace alm {\n\n\texport enum KeyCode {\n\n\t\tBackspace = 8,\n\t\tTab = 9,\n\t\tEnter = 13,\n\t\tShift = 16,\n\t\tCtrl = 17,\n\t\tAlt = 18,\n\t\tPauseBreak = 19,\n\t\tCapsLock = 20,\n\t\tEscape = 27,\n\t\tSpace = 32,\n\t\tPageUp = 33,\n\t\tPageDown = 34,\n\t\tEnd = 35,\n\t\tHome = 36,\n\n\t\tLeftArrow = 37,\n\t\tUpArrow = 38,\n\t\tRightArrow = 39,\n\t\tDownArrow = 40,\n\n\t\tInsert = 45,\n\t\tDelete = 46,\n\n\t\tKey0 = 48,\n\t\tKey1 = 49,\n\t\tKey2 = 50,\n\t\tKey3 = 51,\n\t\tKey4 = 52,\n\t\tKey5 = 53,\n\t\tKey6 = 54,\n\t\tKey7 = 55,\n\t\tKey8 = 56,\n\t\tKey9 = 57,\n\n\t\tClosedParen = Key0,\n\t\tExclamationMark = Key1,\n\t\tAtSign = Key2,\n\t\tPoundSign = Key3,\n\t\tHash = PoundSign,\n\t\tDollarSign = Key4,\n\t\tPercentSign = Key5,\n\t\tCaret = Key6,\n\t\tHat = Caret,\n\t\tAmpersand = Key7,\n\t\tStar = Key8,\n\t\tAsterik = Star,\n\t\tOpenParen = Key9,\n\n\t\tA = 65,\n\t\tB = 66,\n\t\tC = 67,\n\t\tD = 68,\n\t\tE = 69,\n\t\tF = 70,\n\t\tG = 71,\n\t\tH = 72,\n\t\tI = 73,\n\t\tJ = 74,\n\t\tK = 75,\n\t\tL = 76,\n\t\tM = 77,\n\t\tN = 78,\n\t\tO = 79,\n\t\tP = 80,\n\t\tQ = 81,\n\t\tR = 82,\n\t\tS = 83,\n\t\tT = 84,\n\t\tU = 85,\n\t\tV = 86,\n\t\tW = 87,\n\t\tX = 88,\n\t\tY = 89,\n\t\tZ = 90,\n\n\t\tLeftWindowKey = 91,\n\t\tRightWindowKey = 92,\n\t\tSelectKey = 93,\n\n\t\tNumpad0 = 96,\n\t\tNumpad1 = 97,\n\t\tNumpad2 = 98,\n\t\tNumpad3 = 99,\n\t\tNumpad4 = 100,\n\t\tNumpad5 = 101,\n\t\tNumpad6 = 102,\n\t\tNumpad7 = 103,\n\t\tNumpad8 = 104,\n\t\tNumpad9 = 105,\n\n\t\tMultiply = 106,\n\t\tAdd = 107,\n\t\tSubtract = 109,\n\t\tDecimalPoint = 110,\n\t\tDivide = 111,\n\n\t\tF1 = 112,\n\t\tF2 = 113,\n\t\tF3 = 114,\n\t\tF4 = 115,\n\t\tF5 = 116,\n\t\tF6 = 117,\n\t\tF7 = 118,\n\t\tF8 = 119,\n\t\tF9 = 120,\n\t\tF10 = 121,\n\t\tF11 = 122,\n\t\tF12 = 123,\n\n\t\tNumLock = 144,\n\t\tScrollLock = 145,\n\n\t\tSemiColon = 186,\n\t\tEquals = 187,\n\t\tComma = 188,\n\t\tDash = 189,\n\t\tPeriod = 190,\n\t\tUnderScore = Dash,\n\t\tPlusSign = Equals,\n\t\tForwardSlash = 191,\n\t\tTilde = 192,\n\t\tGraveAccent = Tilde,\n\n\t\tOpenBracket = 219,\n\t\tClosedBracket = 221,\n\t\tQuote = 222\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ResizeWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new createjs.EventDispatcher();\n\t\t}\n\n\t\tpublic static start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ResizeWatcher] start\");\n\n\t\t\tjQuery(window).on(\"resize\", this.windowResizeHandler);\n\t\t\tthis.apply();\n\t\t}\n\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ResizeWatcher] stop\");\n\n\t\t\tjQuery(window).off(\"resize\", this.windowResizeHandler);\n\t\t}\n\n\t\tpublic static apply():void {\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\tResizeWatcher.stageWidth = $window.width();\n\t\t\tResizeWatcher.stageHeight = $window.height();\n\n\t\t\tconst $body:JQuery = jQuery(\"body\");\n\t\t\tResizeWatcher.contentWidth = $body.width();\n\t\t\tResizeWatcher.contentHeight = $body.height();\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:ResizeWatcherEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener, useCapture);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:ResizeWatcherEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener, useCapture);\n\t\t}\n\n\n\n\n\n\t\tprivate static windowResizeHandler = (event:JQuery.Event):void => {\n\t\t\tResizeWatcher.apply();\n\t\t\tResizeWatcher.eventDispatcher.dispatchEvent(new ResizeWatcherEvent(ResizeWatcherEvent.RESIZE, false, false, event, ResizeWatcher.stageWidth, ResizeWatcher.stageHeight));\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getStageWidth():number { return this.stageWidth; }\n\t\tprivate static stageWidth:number = 0;\n\n\t\tpublic static getStageHeight():number { return this.stageHeight; }\n\t\tprivate static stageHeight:number = 0;\n\n\t\tpublic static getContentWidth():number { return this.contentWidth; }\n\t\tprivate static contentWidth:number = 0;\n\n\t\tpublic static getContentHeight():number { return this.contentHeight; }\n\t\tprivate static contentHeight:number = 0;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static eventDispatcher:createjs.EventDispatcher = null;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ResizeWatcherEvent extends createjs.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic RESIZE:string = \"resize\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, bubbles:boolean = false, cancelable:boolean = false, jqueryEvent:JQuery.Event = null, stageWidth:number = 0, stageHeight:number = 0) {\n\t\t\tsuper(eventType, bubbles, cancelable);\n\t\t\tthis.jqueryEvent = jqueryEvent;\n\t\t\tthis.stageWidth = stageWidth;\n\t\t\tthis.stageHeight = stageHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():ResizeWatcherEvent {\n\t\t\treturn new ResizeWatcherEvent(this.type, this.bubbles, this.cancelable, this.jqueryEvent, this.stageWidth, this.stageHeight);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[ResizeWatcherEvent (type=\" + this.type + \" stageWidth=\" + this.stageWidth + \" stageHeight=\" + this.stageHeight + \")]\";\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic jqueryEvent:JQuery.Event;\n\n\t\tpublic stageWidth:number;\n\t\tpublic stageHeight:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ScrollWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new createjs.EventDispatcher();\n\t\t}\n\n\t\tpublic static start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ScrollWatcher] start\");\n\n\t\t\tjQuery(window).on(\"resize\", this.windowScrollHandler);\n\t\t\tjQuery(window).on(\"scroll\", this.windowScrollHandler);\n\t\t\tthis.apply();\n\t\t}\n\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ScrollWatcher] stop\");\n\n\t\t\tjQuery(window).off(\"resize\", this.windowScrollHandler);\n\t\t\tjQuery(window).off(\"scroll\", this.windowScrollHandler);\n\t\t}\n\n\t\tpublic static apply():void {\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\tthis.windowHeight = $window.height();\n\t\t\tthis.scrollTop = $window.scrollTop();\n\t\t\tthis.scrollBottom = this.scrollTop + this.windowHeight;\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:ScrollWatcherEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener, useCapture);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:ScrollWatcherEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener, useCapture);\n\t\t}\n\n\t\tpublic static calcScrolledPosition(y:number):number {\n\t\t\treturn y - this.scrollTop;\n\t\t};\n\n\t\tpublic static calcScrolledPositionRatio(y:number):number {\n\t\t\treturn this.calcScrolledPosition(y) / this.windowHeight;\n\t\t}\n\n\n\n\n\n\n\t\tprivate static windowScrollHandler = (event:JQuery.Event):void => {\n\t\t\tScrollWatcher.apply();\n\t\t\tScrollWatcher.eventDispatcher.dispatchEvent(new ScrollWatcherEvent(ScrollWatcherEvent.SCROLL, false, false, event, ScrollWatcher.scrollTop, ScrollWatcher.scrollBottom, ScrollWatcher.windowHeight));\n\t\t};\n\n\t\tprivate static windowResizeHandler = (event:JQuery.Event):void => {\n\t\t\tScrollWatcher.apply();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getScrollTop():number { return this.scrollTop; }\n\t\tprivate static scrollTop:number;\n\n\t\tpublic static getScrollBottom():number { return this.scrollBottom; }\n\t\tprivate static scrollBottom:number;\n\n\t\tpublic static getWindowHeight():number { return this.windowHeight; }\n\t\tprivate static windowHeight:number = 0;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static eventDispatcher:createjs.EventDispatcher = null;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ScrollWatcherEvent extends createjs.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic SCROLL:string = \"scroll\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, bubbles:boolean = false, cancelable:boolean = false, jqueryEvent:JQuery.Event = null, scrollTop:number = 0, scrollBottom:number = 0, windowHeight:number = 0) {\n\t\t\tsuper(eventType, bubbles, cancelable);\n\t\t\tthis.jqueryEvent = jqueryEvent;\n\t\t\tthis.scrollTop = scrollTop;\n\t\t\tthis.scrollBottom = scrollBottom;\n\t\t\tthis.windowHeight = windowHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():ScrollWatcherEvent {\n\t\t\treturn new ScrollWatcherEvent(this.type, this.bubbles, this.cancelable, this.jqueryEvent, this.scrollTop, this.scrollBottom, this.windowHeight);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[ScrollWatcherEvent (type=\" + this.type + \" scrollTop=\" + this.scrollTop + \" scrollBottom=\" + this.scrollBottom + \" windowHeight=\" + this.windowHeight + \")]\";\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic jqueryEvent:JQuery.Event;\n\t\tpublic scrollTop:number;\n\t\tpublic scrollBottom:number;\n\t\tpublic windowHeight:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class AssetLoader {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.isLoading = false;\n\t\t\tthis.isLoaded = false;\n\t\t\tthis.isCanceled = false;\n\n\t\t\tthis.loader = new createjs.LoadQueue();\n\t\t\tthis.eventDispatcher = new createjs.EventDispatcher();\n\n\t\t\tthis.animateImages = AnimateUtil.getImages() || {};\n\t\t}\n\n\t\tpublic static load():void {\n\t\t\tif (this.isLoading || this.isLoaded) return;\n\t\t\tthis.isLoading = true;\n\n\t\t\tthis.initialize();\n\t\t\tLogger.verbose(\"[AssetLoader] load \" + this.loader.getItems(false).length + \" files\");\n\n\t\t\tthis.setListener();\n\t\t\tthis.loader.load();\n\t\t}\n\n\t\tpublic static addFile(filePath:string, id:string = null):void {\n\t\t\tthis.initialize();\n\t\t\tif (id) {\n\t\t\t\tthis.loader.loadFile({ id: id, src: filePath });\n\t\t\t} else {\n\t\t\t\tthis.loader.loadFile(filePath, false);\n\t\t\t}\n\t\t}\n\n\t\tpublic static addFiles(files:({id:string,src:string}|string)[]):void {\n\t\t\tthis.initialize();\n\t\t\tthis.loader.loadManifest(files, false);\n\t\t}\n\n\t\tpublic static addManifest(jsonPath:string):void {\n\t\t\tthis.initialize();\n\t\t\tthis.loader.loadManifest(jsonPath, false);\n\t\t}\n\n\t\tpublic static addAnimateAsset(basePath:string):void {\n\t\t\tthis.initialize();\n\t\t\tconst manifest:Object = this.getAnimateManifest(basePath);\n\t\t\tif (manifest) {\n\t\t\t\tLogger.verbose(\"[AssetLoader] addAnimateAsset : basePath = \" + basePath);\n\t\t\t\tLogger.verbose(manifest);\n\t\t\t\tthis.loader.loadManifest(manifest, false);\n\t\t\t} else {\n\t\t\t\tLogger.verbose(\"[AssetLoader] manifest file is not found\");\n\t\t\t}\n\t\t}\n\n\t\tpublic static cancel():void {\n\t\t\tif (!this.isLoading) return;\n\t\t\tthis.isLoading = false;\n\t\t\tthis.isCanceled = true;\n\n\t\t\tthis.initialize();\n\t\t\tLogger.verbose(\"[AssetLoader] cancel\");\n\n\t\t\tthis.loader.cancel();\n\t\t}\n\n\t\tpublic static close():void {\n\t\t\tif (!this.isLoading && !this.isCanceled) return;\n\t\t\tthis.isLoading = false;\n\t\t\tthis.isCanceled = false;\n\n\t\t\tthis.initialize();\n\t\t\tLogger.verbose(\"[AssetLoader] close\");\n\n\t\t\tthis.loader.close();\n\t\t}\n\n\t\tpublic static clear():void {\n\t\t\tthis.initialize();\n\t\t\tLogger.verbose(\"[AssetLoader] clear\");\n\n\t\t\tthis.clearListener();\n\t\t\tthis.loader.destroy();\n\t\t\tthis.loader = new createjs.LoadQueue();\n\t\t}\n\n\t\tpublic static getResult(idOrPath:string):any {\n\t\t\treturn this.loader.getResult(idOrPath);\n\t\t}\n\n\n\n\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:AssetLoaderEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener, useCapture);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:AssetLoaderEvent) => void, useCapture:boolean = false):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener, useCapture);\n\t\t}\n\n\n\n\n\n\t\tprivate static setListener():void {\n\t\t\tthis.loader.addEventListener(\"fileload\", this.loaderFileLoadHandler);\n\t\t\tthis.loader.addEventListener(\"fileerror\", this.loaderFileErrorHandler);\n\t\t\tthis.loader.addEventListener(\"progress\", this.loaderProgressHandler);\n\t\t\tthis.loader.addEventListener(\"error\", this.loaderErrorHandler);\n\t\t\tthis.loader.addEventListener(\"complete\", this.loaderCompleteHandler);\n\t\t}\n\n\t\tprivate static clearListener():void {\n\t\t\tthis.loader.removeEventListener(\"fileload\", this.loaderFileLoadHandler);\n\t\t\tthis.loader.removeEventListener(\"fileerror\", this.loaderFileErrorHandler);\n\t\t\tthis.loader.removeEventListener(\"progress\", this.loaderProgressHandler);\n\t\t\tthis.loader.removeEventListener(\"error\", this.loaderErrorHandler);\n\t\t\tthis.loader.removeEventListener(\"complete\", this.loaderCompleteHandler);\n\t\t}\n\n\n\n\n\n\t\tprivate static getAnimateManifest(basePath:string = \"\"):object {\n\t\t\tconst manifest:{src:string,id:string}[] = AnimateUtil.getManifest();\n\t\t\tif (manifest == null) return null;\n\t\t\tif (basePath != \"\") {\n\t\t\t\tif (basePath.substr(-1, 1) != \"/\") {\n\t\t\t\t\tbasePath = basePath + \"/\";\n\t\t\t\t}\n\t\t\t\tconst updated:{src:string,id:string}[] = [];\n\t\t\t\tconst numFiles:number = manifest.length;\n\t\t\t\tlet file:{src:string,id:string};\n\t\t\t\tfor (let i:number = 0; i < numFiles; ++i) {\n\t\t\t\t\tfile = manifest[i];\n\t\t\t\t\tupdated.push({ src: basePath + file.src, id: file.id });\n\t\t\t\t}\n\t\t\t\treturn updated;\n\t\t\t} else {\n\t\t\t\treturn manifest;\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\tprivate static loaderFileLoadHandler = (event:createjs.Event):void => {\n\t\t\tLogger.verbose(\"[AssetLoader] fileLoad\");\n\t\t\tconst itemId:string = event.item.id;\n\t\t\tconst result:HTMLImageElement = event.result;\n\t\t\tif (itemId) AssetLoader.animateImages[itemId] = result;\n\t\t\tAssetLoader.eventDispatcher.dispatchEvent(new AssetLoaderEvent(AssetLoaderEvent.FILE_LOAD, false, false, event.progress, event.loaded, event.total, result));\n\t\t};\n\n\t\tprivate static loaderErrorHandler = (event:createjs.ErrorEvent):void => {\n\t\t\tLogger.error(\"[AssetLoader] error : \", event);\n\t\t\tAssetLoader.eventDispatcher.dispatchEvent(new AssetLoaderEvent(AssetLoaderEvent.ERROR));\n\t\t};\n\n\t\tprivate static loaderProgressHandler = (event:createjs.ProgressEvent):void => {\n\t\t\tLogger.verbose(\"[AssetLoader] progress : progress = \" + event.progress, \" (\" + event.loaded + \" / \" + event.total + \")\");\n\t\t\tAssetLoader.eventDispatcher.dispatchEvent(new AssetLoaderEvent(AssetLoaderEvent.PROGRESS, false, false, event.progress, event.loaded, event.total));\n\t\t};\n\n\t\tprivate static loaderFileErrorHandler = (event:createjs.Event):void => {\n\t\t\tLogger.error(\"[AssetLoader] fileError : \", event);\n\t\t\tAssetLoader.eventDispatcher.dispatchEvent(new AssetLoaderEvent(AssetLoaderEvent.FILE_ERROR, false, false, event.progress, event.loaded, event.total));\n\t\t};\n\n\t\tprivate static loaderCompleteHandler = (event:createjs.Event):void => {\n\t\t\tLogger.verbose(\"[AssetLoader] complete\");\n\t\t\tAssetLoader.eventDispatcher.dispatchEvent(new AssetLoaderEvent(AssetLoaderEvent.COMPLETE, false, false, event.progress, event.loaded, event.total));\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsLoading():boolean { return this.isLoading; }\n\t\tprivate static isLoading:boolean;\n\n\t\tpublic static getIsLoaded():boolean { return this.isLoaded; }\n\t\tprivate static isLoaded:boolean;\n\n\t\tpublic static getIsCanceled():boolean { return this.isCanceled; }\n\t\tprivate static isCanceled:boolean;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static eventDispatcher:createjs.EventDispatcher = null;\n\t\tprivate static loader:createjs.LoadQueue;\n\t\tprivate static animateImages:Hash<HTMLImageElement>;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class AssetLoaderEvent extends createjs.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic FILE_LOAD:string = \"fileload\";\n\t\tstatic FILE_ERROR:string = \"fileerror\";\n\t\tstatic PROGRESS:string = \"progress\";\n\t\tstatic COMPLETE:string = \"complete\";\n\t\tstatic ERROR:string = \"error\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, bubbles:boolean = false, cancelable:boolean = false, progress:number = 0, loadedCount:number = 0, totalCount:number = 0, content:any = null) {\n\t\t\tsuper(eventType, bubbles, cancelable);\n\t\t\tthis.progress = progress;\n\t\t\tthis.loadedCount = loadedCount;\n\t\t\tthis.totalCount = totalCount;\n\t\t\tthis.content = content;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():AssetLoaderEvent {\n\t\t\treturn new AssetLoaderEvent(this.type, this.bubbles, this.cancelable, this.progress, this.loadedCount, this.totalCount, this.content);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[AssetLoaderEvent (type=\" + this.type + \" progress=\" + this.progress + \"loadedCount=\" + this.loadedCount + \" totalCount=\" + this.totalCount + \")]\";\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic progress:number;\n\t\tpublic loadedCount:number;\n\t\tpublic totalCount:number;\n\t\tpublic content:any;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport abstract class View<T extends createjs.DisplayObject | JQuery> extends createjs.EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(view:T = null) {\n\t\t\tsuper();\n\t\t\tthis.view = view;\n\t\t\tthis.isInitializing = false;\n\t\t\tthis.isInitialized = false;\n\t\t\tthis.isReady = false;\n\t\t\tthis.isShowing = false;\n\t\t\tthis.isShown = true;\n\t\t\tthis.isHiding = false;\n\t\t\tthis.autoHideWithInit = true;\n\t\t\tthis.name = \"\";\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic initialize():void {\n\t\t\tif (this.isInitializing || this.isInitialized) return;\n\t\t\tthis.isInitializing = true;\n\t\t\tthis.view = this.implInitialize();\n\t\t\tthrowError(this.name || this, \"view is null\", !this.view);\n\t\t\tthis.hide(false);\n\t\t\tthis.isInitializing = false;\n\t\t\tthis.isInitialized = true;\n\t\t}\n\n\t\tpublic ready():void {\n\t\t\tif (this.isReady) return;\n\t\t\tthrowError(this.name || this, \"ready() was called without being initialized\", !this.isInitialized);\n\t\t\tthis.implReady();\n\t\t\tthis.isReady = true;\n\t\t}\n\n\t\tpublic finalize():void {\n\t\t\tthis.implFinalize();\n\t\t}\n\n\t\tpublic show(useTransition:boolean = true):void {\n\t\t\tif (this.isShown) return;\n\t\t\tthis.getShowCommand(useTransition).execute();\n\t\t}\n\n\t\tpublic hide(useTransition:boolean = true):void {\n\t\t\tif (!this.isShown) return;\n\t\t\tthis.getHideCommand(useTransition).execute();\n\t\t}\n\n\t\tpublic getShowCommand(useTransition:boolean = true):cmd.Command {\n\t\t\tconst command:cmd.Serial = new cmd.Serial();\n\t\t\tcommand.addCommand(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tif (this.isShown) return;\n\t\t\t\t\tthrowError(this.name || this, \"getShowCommand() was called without being initialized\", !this.isInitialized);\n\t\t\t\t\tthrowWarn(this.name || this, \"getShowCommand() was called without being ready\", !this.isReady);\n\t\t\t\t\tthis.isShown = true;\n\t\t\t\t\tthis.isShowing = true;\n\t\t\t\t\tthis.isHiding = false;\n\n\t\t\t\t\tif (this.showCommand) {\n\t\t\t\t\t\tthis.showCommand.interrupt();\n\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.hideCommand) {\n\t\t\t\t\t\tthis.hideCommand.interrupt();\n\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.showCommand = command;\n\t\t\t\t\tcommand.insertCommand(\n\t\t\t\t\t\tthis.implShow(this.view, useTransition),\n\t\t\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t\t\tthis.isShowing = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn command;\n\t\t}\n\n\t\tpublic getHideCommand(useTransition:boolean = true):cmd.Command {\n\t\t\tconst command:cmd.Serial = new cmd.Serial();\n\t\t\tcommand.addCommand(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tif (!this.isShown) return;\n\t\t\t\t\tif (!this.isInitializing) {\n\t\t\t\t\t\tthrowError(this.name || this, \"getHideCommand() was called without being initialized\", !this.isInitialized);\n\t\t\t\t\t\tthrowWarn(this.name || this, \"getHideCommand() was called without being ready\", !this.isReady);\n\t\t\t\t\t}\n\t\t\t\t\tthis.isShown = false;\n\t\t\t\t\tthis.isShowing = false;\n\t\t\t\t\tthis.isHiding = true;\n\n\t\t\t\t\tif (this.showCommand) {\n\t\t\t\t\t\tthis.showCommand.interrupt();\n\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.hideCommand) {\n\t\t\t\t\t\tthis.hideCommand.interrupt();\n\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.hideCommand = command;\n\t\t\t\t\tcommand.insertCommand(\n\t\t\t\t\t\tthis.implHide(this.view, useTransition),\n\t\t\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t\t\tthis.isHiding = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn command;\n\t\t}\n\n\t\tprotected abstract implInitialize():T;\n\t\tprotected abstract implReady():void;\n\t\tprotected abstract implFinalize():void;\n\t\tprotected abstract implShow(view:T, useTransition:boolean):cmd.Command;\n\t\tprotected abstract implHide(view:T, useTransition:boolean):cmd.Command;\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getIsInitializing():boolean { return this.isInitializing; }\n\t\tprivate isInitializing:boolean;\n\n\t\tpublic getIsInitialized():boolean { return this.isInitialized; }\n\t\tprivate isInitialized:boolean;\n\n\t\tpublic getIsReady():boolean { return this.isReady; }\n\t\tprivate isReady:boolean;\n\n\t\tpublic getIsShowing():boolean { return this.isShowing; }\n\t\tprivate isShowing:boolean;\n\n\t\tpublic getIsShown():boolean { return this.isShown; }\n\t\tprivate isShown:boolean;\n\n\t\tpublic getIsHiding():boolean { return this.isHiding; }\n\t\tprivate isHiding:boolean;\n\n\t\tpublic getIsHidden():boolean { return !this.isShown; }\n\n\t\tpublic getView():T { return this.view; }\n\t\tprivate view:T;\n\n\t\tpublic getAutoHideWithInit():boolean { return this.autoHideWithInit; }\n\t\tpublic setAutoHideWithInit(value:boolean):void { this.autoHideWithInit = value; }\n\t\tprivate autoHideWithInit:boolean;\n\n\t\tpublic getName():string { return this.name; }\n\t\tpublic setName(value:string):void { this.name = value; }\n\t\tprivate name:string;\n\n\t\tprivate showCommand:cmd.Command;\n\t\tprivate hideCommand:cmd.Command;\n\t}\n}"]}